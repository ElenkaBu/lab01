## 1. Цели
* Собрать схему CLOS, как на схеме;
* Распределить адресное пространство;

![lab01.схема.png](lab01.схема.png)

<details> 
  
<summary> Теория </summary>

```

Cети Клоза (Clos fabric), известные также как:
- Leaf-Spine
- Folded Clos
- 3-stage
- Fat tree

Leaf или T0 или ToR (Top of Rack) - первый уровень, сюда подключаются cерверные мощности, оконечное оборудование. 
Уровень Leaf- основной мозг фабрики, основа вычислительной мощности, оснеовные сложные протоколы живут тут.

Spine T1 ToP (Top of Pad) - второй уровень, сюда подключаются Leaf-коммутаторы (каждый Leaf подкл-ся к каждому Spine-у).
На данном уровне "мозгов" практически нет, основная задача это молотилка трафика.
Передать пакет с одного Leaf на другой максимально быстро.

Каждый коммутатор Leaf подключается к каждому коммутатору Spine. Важно: коммутаторы Leaf не соединяются между собой,
коммутаторы Spine также не соединяются между собой.
Все линки L3. Поэтому любые два коммутатора Leaf находятся ровно в двух хопах друг от друга.
 
Плюсы:
- высокая утилизация линков с использованием ECMP (уходим от L2, соотв-но от STP- где блокируемые линки простаивали)
- широкие горизонтальные каналы для East-West-трафика.
- выпадение одного устройства или линка не влечёт фатальных последствий. Если это был ToR, то пострадает только одна стойка. Если Spine - просядет пропускная способность, но не на 50%, как это было бы прежде, а лишь на 1/n, где n - число спайнов.
- простота вывода спайнов из эксплуатации. Благодаря небольшой деградации и отсутствию интеллекта на этом узле, проводить работы на них не так страшно, как на God-Box"ах
- масштабируемость. Новые лифы можно безболезненно добавлять пока не кончатся порты на спайнах. Добавлением спайна можно расширить аплинки лифов.

```

</details>

## 2. Адресное пространство для Underlay сети:

#### Адреса loppback-интерфейсов:
|  Наименование |  Адрес   |
| :------------ |:--------:|
| Spine1        | 10.0.1.1 |
| Spine2        | 10.0.2.2 |
| Leaf1         | 10.0.0.1 |
| Leaf2         | 10.0.0.2 |
| Leaf3         | 10.0.0.3 |

#### Линковочные сети:
| Наименование | IP Address |   Subnet Mask   | Default Gateway |
| :----------- |:----------:|  :-----------:  | :-------------: |
| Spine1_Leaf1 | 172.16.1.0 | 255.255.255.252 |  172.16.1.1     |
| Spine1_Leaf2 | 172.16.2.0 | 255.255.255.252 |  172.16.2.1     |
| Spine1_Leaf3 | 172.16.3.0 | 255.255.255.252 |  172.16.3.1     |
| Spine2_Leaf1 | 172.16.1.4 | 255.255.255.252 |  172.16.1.5     |
| Spine2_Leaf2 | 172.16.2.4 | 255.255.255.252 |  172.16.2.5     |
| Spine2_Leaf3 | 172.16.3.4 | 255.255.255.252 |  172.16.3.5     |

#### Адреса хостов:
|Наименование |  Адрес           |
| :---------- |:----------------:|
| Host1       | 192.168.10.10/24 |
| Host2       | 192.168.10.20/24 |
| Host3       | 192.168.10.30/24 |
| Host4       | 192.168.10.40/24 |

## 3. Структурная схема

![clos_topology2.PNG](clos_topology2.PNG)
